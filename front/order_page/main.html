<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js"></script>
    <script src="index.js"></script>
</head>
<body>
    <input type="date" x-model="date"  x-on:change="dateChanged()"/>
<h2>Menu</h2>
<div 
    x-data="app()"
    x-init="fetchItems()"
>
    <template x-for="(item, index) in items" :key="index">
        <div>
            <span x-text="item.item_name"></span> -
            <span x-text="item.item_description"></span>
            <span x-text="item.price + 'CHF'"></span>
            <button @click="addToBasket(item)">Add</button>
        </div>
    </template>
    <h2>Order for <span x-text="date"></span></h2>
    <template x-for="(item, index) in basket" :key="index">
        <div>
            <span x-text="item.item_name"></span>
            <span x-text="item.price + 'CHF'"></span>
            <button @click="removeFromBasket(index)">Remove from basket</button>
        </div>
    </template>
    <div>Total: <span x-text="returnTotalBasketAmount()"></span></div>
    <button @click="confirmBasket()">Confirm</button>
</div>